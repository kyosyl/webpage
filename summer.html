<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마재초등학교 폭염 대응 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Neutral beige background with deep blue for primary actions, and orange/red for alerts) -->
    <!-- Application Structure Plan: A task-oriented dashboard designed for school administrators. The structure prioritizes immediate actionability. It starts with a 'Live Status' panel allowing users to simulate alert levels (Advisory/Warning), which dynamically updates the rest of the application. Key sections include: 1) 'Key Actions' for the current alert level, 2) a 'Role-Based Manual' where users can select a specific staff role to see their precise duties, 3) a clear 'Emergency Reporting' flowchart with contacts, and 4) 'Data & Context' with charts for background understanding. This structure was chosen to move from "what to do now" to "who does what" and finally "why," which is the most logical flow in an emergency. -->
    <!-- Visualization & Content Choices: Report Info -> Goal -> Viz/Presentation -> Interaction -> Justification. 1) Alert Levels -> Inform & Guide -> Interactive Toggles -> Click to update content -> Allows users to simulate and prepare for any stage. 2) Staff Duties -> Clarify Responsibility -> Tabbed Checklists -> Click role to see tasks -> Provides clear, personalized action items for each staff member. 3) Reporting Process -> Ensure Compliance -> HTML/CSS Flowchart -> Visual guide -> Simplifies a critical, multi-step process. 4) Temperature Trends -> Provide Context -> Chart.js Line/Bar Charts -> Hover for details -> Shows the data-driven reason for the plan's importance. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }
        .tab-active {
            border-color: #2563eb;
            background-color: #eff6ff;
            color: #1e40af;
            font-weight: 700;
        }
        .tab-inactive {
            border-color: transparent;
            background-color: #f8fafc;
            color: #64748b;
        }
    </style>
</head>
<body class="bg-amber-50 text-slate-800">
    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">마재초등학교 폭염 대응 가이드</h1>
            <p id="current-date" class="text-slate-600 mt-2"></p>
        </header>

        <main>
            <!-- Section 1: Live Status & Key Actions -->
            <section id="status-panel" class="mb-8 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-slate-800">실시간 상황판</h2>
                <p class="mb-6 text-slate-600">아래 버튼을 클릭하여 폭염특보 단계별 대응 지침을 확인하세요.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <button id="btn-normal" class="p-4 rounded-lg text-lg font-bold transition-all duration-300 shadow-md">
                        <span class="text-2xl mr-2">☀️</span> 평시 (관심)
                    </button>
                    <button id="btn-advisory" class="p-4 rounded-lg text-lg font-bold transition-all duration-300 shadow-md">
                        <span class="text-2xl mr-2">⚠️</span> 주의보 발령
                    </button>
                    <button id="btn-warning" class="p-4 rounded-lg text-lg font-bold transition-all duration-300 shadow-md">
                        <span class="text-2xl mr-2">🚨</span> 경보 발령
                    </button>
                </div>
                <div id="action-board" class="p-6 rounded-lg transition-colors duration-300">
                    <h3 id="action-title" class="text-xl font-bold mb-4"></h3>
                    <ul id="action-list" class="space-y-3 list-inside"></ul>
                </div>
            </section>

            <!-- Section 2: Action Manual by Role -->
            <section id="role-manual" class="mb-8 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-2 text-slate-800">역할별 대응 매뉴얼</h2>
                <p class="mb-6 text-slate-600">담당 부서를 선택하여 현재 상황에 맞는 임무를 확인하세요.</p>
                <div class="flex flex-wrap gap-2 mb-6 border-b border-slate-200 pb-2">
                    <button data-role="교감" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">교감</button>
                    <button data-role="생활안전부" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">생활안전부</button>
                    <button data-role="교무부/연구부" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">교무부/연구부</button>
                    <button data-role="행정실" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">행정실</button>
                    <button data-role="보건실" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">보건실</button>
                    <button data-role="급식실" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">급식실</button>
                    <button data-role="늘봄/돌봄" class="role-tab px-4 py-2 text-sm md:text-base font-medium rounded-t-lg border-b-2 transition">늘봄/돌봄</button>
                </div>
                <div>
                    <h3 id="role-title" class="text-xl font-bold text-blue-800 mb-4"></h3>
                    <ul id="role-checklist" class="space-y-3"></ul>
                </div>
            </section>

            <!-- Section 3: Emergency Reporting System -->
            <section id="reporting-system" class="mb-8 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-6 text-slate-800">긴급 보고 체계</h2>
                <div class="space-y-6">
                    <div class="p-4 border-l-4 border-amber-500 bg-amber-50 mb-6">
                        <h3 class="font-bold text-lg text-amber-800">주요 보고 사유</h3>
                        <p class="text-amber-700 mt-2">아래와 같은 상황 발생 시, 즉시 보고 절차를 개시합니다.</p>
                        <ul class="mt-3 list-disc list-inside space-y-1 text-amber-900">
                            <li>**학사운영 조정:** 단축수업, 임시휴업 등 학교장 재량의 학사운영 변경 결정 시</li>
                            <li>**인명 피해:** 온열질환자 발생 등 학생 또는 교직원의 인명 피해 발생 시</li>
                            <li>**시설 피해:** 정전, 냉방시설 대규모 고장 등 교육활동에 지장을 주는 시설 피해 발생 시</li>
                        </ul>
                    </div>

                    <div class="p-4 border-l-4 border-red-500 bg-red-50">
                        <h3 class="font-bold text-lg text-red-800">보고 절차 1: 학교장 보고 (선행 조치)</h3>
                        <p class="text-red-700 mt-1">모든 대외 보고 이전에, 상황 발생 및 조치 예정 사항을 **학교장에게 우선 보고**합니다.</p>
                    </div>
                    <div class="text-center text-4xl font-thin text-slate-400">↓</div>
                    <div class="p-4 border-l-4 border-blue-500 bg-blue-50">
                        <h3 class="font-bold text-lg text-blue-800">보고 절차 2: 유선 동시 보고 (발생 즉시)</h3>
                        <p class="text-blue-700 mt-1">학교장 보고 후, 가장 빠른 통신수단을 이용해 아래 두 기관에 **동시에** 구두 보고합니다.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4 text-center">
                        <div class="p-4 bg-slate-100 rounded-lg">
                            <p class="font-semibold text-slate-700">광주광역시교육청 안전총괄과</p>
                            <p class="text-xl font-bold text-slate-900 mt-1">062-380-4119</p>
                            <p class="text-sm text-slate-500">(야간: 380-4580)</p>
                        </div>
                        <div class="p-4 bg-slate-100 rounded-lg">
                            <p class="font-semibold text-slate-700">광주서부교육지원청 학교지원센터</p>
                            <p class="text-xl font-bold text-slate-900 mt-1">062-600-9872</p>
                            <p class="text-sm text-slate-500">(야간: 600-9700)</p>
                        </div>
                    </div>
                    <div class="text-center text-4xl font-thin text-slate-400">↓</div>
                     <div class="p-4 border-l-4 border-green-500 bg-green-50">
                        <h3 class="font-bold text-lg text-green-800">보고 절차 3: 시스템 서면 보고</h3>
                        <p class="text-green-700 mt-1">유선 보고 직후, 재난상황관리시스템에 접속하여 공식 보고서를 등록합니다.</p>
                        <div class="mt-4 text-center">
                            <a href="https://disaster.schoolsafe.kr" target="_blank" class="inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors">
                                재난상황관리시스템 바로가기
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 4: Data & Context -->
            <section id="data-context" class="mb-8 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-2 text-slate-800">폭염 현황 및 데이터</h2>
                <p class="mb-6 text-slate-600">기후 변화로 인해 폭염의 강도와 빈도가 증가하고 있습니다.</p>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold text-center mb-4">여름철 평균기온 변화 추이 ('73~'24)</h3>
                        <div class="chart-container">
                            <canvas id="tempTrendChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-center mb-4">최근 10년간 여름철 평균 해수면 온도 ('15~'24)</h3>
                         <div class="chart-container">
                            <canvas id="seaTempChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 5: Student & Parent Guide -->
            <section id="student-guide" class="p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-6 text-slate-800">학생 행동 요령</h2>
                 <div class="grid md:grid-cols-3 gap-6 text-center">
                    <div class="p-4 bg-sky-50 rounded-lg">
                        <p class="text-4xl mb-2">💧</p>
                        <h3 class="font-bold text-sky-800">물 자주 마시기</h3>
                        <p class="text-sm text-sky-700 mt-1">갈증을 느끼지 않아도 규칙적으로 시원한 물을 섭취해요.</p>
                    </div>
                    <div class="p-4 bg-amber-50 rounded-lg">
                        <p class="text-4xl mb-2">🏠</p>
                        <h3 class="font-bold text-amber-800">시원하게 지내기</h3>
                        <p class="text-sm text-amber-700 mt-1">가장 더운 시간대에는 외출을 자제하고 시원한 실내에 머물러요.</p>
                    </div>
                    <div class="p-4 bg-rose-50 rounded-lg">
                        <p class="text-4xl mb-2">🧢</p>
                        <h3 class="font-bold text-rose-800">야외활동 자제</h3>
                        <p class="text-sm text-rose-700 mt-1">밝은 색의 헐렁한 옷을 입고, 모자와 자외선 차단제를 사용해요.</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 text-slate-500 text-sm">
            <p>마재초등학교 재난안전대책위원회</p>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const actionData = {
        normal: {
            title: '☀️ 평시 (관심 단계)',
            bgColor: 'bg-blue-50',
            textColor: 'text-blue-800',
            borderColor: 'border-blue-200',
            actions: [
                '폭염 대비 자체 계획 점검 및 현행화',
                '전 교직원 대상 폭염 대응 교육 실시',
                '냉방시설 등 시설물 사전 점검 및 정비',
                '학생 및 학부모 대상 폭염 행동요령 안내 및 홍보'
            ]
        },
        advisory: {
            title: '⚠️ 주의보 발령',
            bgColor: 'bg-amber-50',
            textColor: 'text-amber-800',
            borderColor: 'border-amber-300',
            actions: [
                '**[필수]** 체육 등 야외활동 자제 권고 (실내수업 대체)',
                '**[검토]** 단축수업 또는 등·하교 시간 조정 검토',
                '**[강화]** 학교 급식 위생관리 강화',
                '**[점검]** 비상연락망 가동 및 상황판단회의 준비'
            ]
        },
        warning: {
            title: '🚨 경보 발령',
            bgColor: 'bg-red-50',
            textColor: 'text-red-800',
            borderColor: 'border-red-300',
            actions: [
                '**[필수]** 체육 등 모든 야외활동 **금지**',
                '**[적극 검토]** 등·하교 시간 조정, 임시휴업, 원격수업 전환',
                '**[필수]** 상황판단회의 개최하여 학사운영 결정',
                '**[강화]** 학교급식 위생관리 실태 특별 점검',
                '**[고려]** 폭염 장기화 시 조기 방학 검토'
            ]
        }
    };

    const roleManuals = {
        '교감': {
            normal: ['**[필수]** 폭염 대응 계획 수립 총괄 및 학교장 최종 승인', '교직원 역할 분담(R&R) 확인 및 조정', '대응 체계 전반에 대한 점검 및 지휘'],
            advisory: ['**[필수]** 상황판단회의 소집 준비 및 주재 여부 검토', '학사운영 조정(단축수업 등) 필요성 1차 판단', '전체 상황 모니터링 및 대외 소통 창구 역할'],
            warning: ['**[필수]** 상황판단회의 즉시 소집 및 주재', '학사운영 조정(휴업 등) 방안 수립 후 **학교장께 최종 결정 건의**', '교육청 보고 및 학부모 안내 총괄 지휘']
        },
        '생활안전부': {
            normal: ['**[필수]** 폭염 대응 자체 계획 수립 및 수정·보완', '학생 대상 폭염 행동요령 교육 계획 수립', '취약 학생 현황 파악 및 관리 방안 마련'],
            advisory: ['**[필수]** 야외활동 자제 관련 학생 생활지도 강화', '교내 순찰 강화 및 학생 건강 상태 수시 확인', '재난상황관리시스템 보고 준비'],
            warning: ['**[필수]** 모든 야외활동 통제 및 학생 관리', '안전사고 발생 시 초동 조치 및 보고 (학교안전공제회)', '결정된 학사운영 조정안에 따른 후속 조치']
        },
        '교무부/연구부': {
            normal: ['**[필수]** 비상연락망(교직원, 학부모) 현행화', '폭염 대비 학사일정 조정 가능성 검토', '가정통신문 등 안내자료 준비'],
            advisory: ['**[필수]** 단축수업 시 수업시수 조정 방안 검토', '보결수업 등 학사 공백 최소화 방안 준비', '학부모 문의 응대 채널 준비'],
            warning: ['**[필수]** 학교장 재가 후 학사운영 조정안 즉시 공지', '원격수업 전환 시 플랫폼 및 콘텐츠 준비', '수업시수 확보를 위한 추후 학사일정 조정안 마련']
        },
        '행정실': {
            normal: ['**[필수]** 냉방기, 전력설비, 식수대 등 시설물 일제 점검 및 정비', '폭염 대비 필요 물품(식염포도당 등) 재고 확인 및 구매 계획', '정전 대비 비상 발전기 또는 비상 연락체계 점검'],
            advisory: ['**[필수]** 시설물 이상 발생 시 즉각 보수 체계 가동', '냉방기 상시 가동 및 전력 사용량 모니터링', '각종 시설 지원 요청에 대한 신속 대응'],
            warning: ['**[필수]** 전 시설 냉방 최대 가동 지원', '전력 과부하 등 비상상황 발생 시 즉각 조치', '휴업 시 학교 시설 보안 및 관리 강화']
        },
        '보건실': {
            normal: ['**[필수]** 폭염 취약 학생(기저질환 등) 명단 확보 및 관리', '온열질환 예방 및 응급처치 교육자료 제작·게시', '응급 물품(체온계, 냉각시트 등) 구비 및 유효기간 확인'],
            advisory: ['**[필수]** 온열질환 의심 학생 발생 여부 수시 모니터링', '학생들의 수분 섭취 권장 활동 강화', '담임교사와 취약 학생 건강상태 정보 공유'],
            warning: ['**[필수]** 온열질환자 발생 시 즉각적인 응급처치 및 119 연계', '도서실을 무더위 쉼터로 개방 및 운영 (예시)', '전체 학생 건강 상태에 대한 특이사항 파악 및 보고']
        },
        '급식실': {
            normal: ['**[필수]** 식중독 예방을 위한 위생 교육 강화', '급식 시설·설비 사전 점검', '폭염 대비 식단 구성 검토'],
            advisory: ['**[필수]** 식자재 검수 및 보관 온도 관리 철저', '조리 과정 중 위생관리 강화', '조리 종사자 건강 상태 매일 확인'],
            warning: ['**[필수]** 식중독 예방을 위한 위생관리 특별 점검', '단축수업 시 급식 운영 방안(간편식 등) 실행', '휴업 시 식자재 보관 및 처리 계획 이행']
        },
        '늘봄/돌봄': {
            normal: ['**[필수]** 돌봄교실 냉방시설 점검', '폭염 대비 실내 활동 프로그램 준비', '참여 학생 비상연락망 확인'],
            advisory: ['**[필수]** 모든 실외 프로그램을 실내 활동으로 전환', '참여 학생 건강 상태 수시 확인 및 수분 섭취 지도', '학사운영 조정 시 관련 내용 학부모에게 별도 안내'],
            warning: ['**[필수]** 휴업 시 긴급돌봄 운영 계획 실행', '긴급돌봄 참여 학생 안전관리 및 건강 확인 철저', '학교의 전체 대응 방침에 맞추어 운영']
        }
    };

    let currentLevel = 'normal';
    let currentRole = '교감';

    const btnNormal = document.getElementById('btn-normal');
    const btnAdvisory = document.getElementById('btn-advisory');
    const btnWarning = document.getElementById('btn-warning');
    const actionBoard = document.getElementById('action-board');
    const actionTitle = document.getElementById('action-title');
    const actionList = document.getElementById('action-list');
    const roleTabs = document.querySelectorAll('.role-tab');
    const roleTitle = document.getElementById('role-title');
    const roleChecklist = document.getElementById('role-checklist');
    
    function updateActionBoard(level) {
        currentLevel = level;
        const data = actionData[level];
        
        actionBoard.className = `p-6 rounded-lg transition-all duration-500 border-l-4 ${data.borderColor} ${data.bgColor}`;
        actionTitle.className = `text-xl font-bold mb-4 ${data.textColor}`;
        actionTitle.innerHTML = data.title;
        
        actionList.innerHTML = data.actions.map(action => {
            const formattedAction = action.replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold">$1</strong>');
            return `<li class="flex items-start"><span class="mr-3 text-lg ${data.textColor}">▪</span><span class="text-slate-700">${formattedAction}</span></li>`;
        }).join('');

        btnNormal.classList.toggle('ring-4', level === 'normal');
        btnNormal.classList.toggle('ring-blue-300', level === 'normal');
        btnNormal.classList.toggle('bg-blue-100', level === 'normal');
        btnNormal.classList.toggle('bg-white', level !== 'normal');

        btnAdvisory.classList.toggle('ring-4', level === 'advisory');
        btnAdvisory.classList.toggle('ring-amber-300', level === 'advisory');
        btnAdvisory.classList.toggle('bg-amber-100', level === 'advisory');
        btnAdvisory.classList.toggle('bg-white', level !== 'advisory');

        btnWarning.classList.toggle('ring-4', level === 'warning');
        btnWarning.classList.toggle('ring-red-300', level === 'warning');
        btnWarning.classList.toggle('bg-red-100', level === 'warning');
        btnWarning.classList.toggle('bg-white', level !== 'warning');

        updateRoleManual(currentRole);
    }

    function updateRoleManual(role) {
        currentRole = role;
        const data = roleManuals[role][currentLevel];
        
        roleTitle.textContent = `${role} - 주요 임무`;
        roleChecklist.innerHTML = data.map(task => {
            let formattedTask = task.replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold">$1</strong>');
            formattedTask = formattedTask.replace(/\[필수\]/g, '<strong class="font-semibold text-red-600">[필수]</strong>');
            return `<li class="flex items-start p-3 bg-slate-50 rounded-md"><span class="mr-3 text-green-600 text-xl">✔</span><span class="text-slate-700">${formattedTask}</span></li>`;
        }).join('');

        roleTabs.forEach(tab => {
            if (tab.dataset.role === role) {
                tab.classList.remove('tab-inactive');
                tab.classList.add('tab-active');
            } else {
                tab.classList.remove('tab-active');
                tab.classList.add('tab-inactive');
            }
        });
    }

    btnNormal.addEventListener('click', () => updateActionBoard('normal'));
    btnAdvisory.addEventListener('click', () => updateActionBoard('advisory'));
    btnWarning.addEventListener('click', () => updateActionBoard('warning'));

    roleTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            updateRoleManual(tab.dataset.role);
        });
    });

    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth() + 1;
    const day = now.getDate();
    document.getElementById('current-date').textContent = `${year}년 ${month}월 ${day}일`;

    updateActionBoard('normal');
    updateRoleManual('교감');

    const tempTrendCtx = document.getElementById('tempTrendChart').getContext('2d');
    new Chart(tempTrendCtx, {
        type: 'line',
        data: {
            labels: ['1973', '1980', '1990', '1994', '2000', '2010', '2018', '2024'],
            datasets: [{
                label: '여름철 평균기온 (°C)',
                data: [24.5, 24.7, 24.3, 25.1, 24.1, 25.2, 25.3, 25.6],
                borderColor: 'rgb(239, 68, 68)',
                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                fill: true,
                tension: 0.3,
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: false } }
        }
    });

    const seaTempCtx = document.getElementById('seaTempChart').getContext('2d');
    new Chart(seaTempCtx, {
        type: 'bar',
        data: {
            labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'],
            datasets: [{
                label: '여름철 평균 해수면 온도 (°C)',
                data: [21.4, 23.3, 22.9, 23.3, 22.2, 21.4, 23.5, 23.2, 23.1, 23.9],
                backgroundColor: [
                    'rgba(59, 130, 246, 0.6)', 'rgba(59, 130, 246, 0.8)', 'rgba(59, 130, 246, 0.7)', 'rgba(59, 130, 246, 0.8)',
                    'rgba(59, 130, 246, 0.65)', 'rgba(59, 130, 246, 0.6)', 'rgba(59, 130, 246, 0.85)', 'rgba(59, 130, 246, 0.75)',
                    'rgba(59, 130, 246, 0.75)', 'rgba(251, 146, 60, 0.9)'
                ],
                borderColor: 'rgba(59, 130, 246, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: false, suggestedMin: 20 } }
        }
    });
});
</script>
</body>
</html>
